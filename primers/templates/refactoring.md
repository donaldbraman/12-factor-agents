# Refactoring Context Primer

## Refactoring Goal
Target: {{ target_description }}
Objective: {{ objective }}
Type: {{ refactor_type | default("Code Quality Improvement") }}

## Current State Analysis
{% if current_issues %}
**Current Issues:**
{% for issue in current_issues %}
- {{ issue }}
{% endfor %}
{% endif %}

{% if code_smells %}
**Code Smells Identified:**
{% for smell in code_smells %}
- {{ smell }}
{% endfor %}
{% endif %}

## Target Improvements
{% if improvements %}
**Expected Improvements:**
{% for improvement in improvements %}
- {{ improvement }}
{% endfor %}
{% endif %}

## Scope Definition
{% if affected_modules %}
**Affected Modules:**
{% for module in affected_modules %}
- `{{ module }}`
{% endfor %}
{% endif %}

{% if impact_areas %}
**Impact Areas:**
{% for area in impact_areas %}
- {{ area }}
{% endfor %}
{% endif %}

## Refactoring Strategy
**Approach:** {{ approach | default("Incremental refactoring with comprehensive testing") }}

**Phases:**
1. **Preparation:** Ensure comprehensive test coverage
2. **Small Steps:** Make incremental, testable changes
3. **Validation:** Verify each change maintains functionality
4. **Integration:** Ensure changes work together
5. **Cleanup:** Remove deprecated code and comments

## Safety Measures
- Maintain existing public APIs
- Preserve all functionality
- Keep changes atomic and reviewable
- Run tests after each change
- Monitor performance impact

## Quality Targets
{% if metrics %}
**Target Metrics:**
{% for metric, value in metrics.items() %}
- {{ metric }}: {{ value }}
{% endfor %}
{% endif %}

**Quality Goals:**
- Improved code readability
- Better maintainability
- Enhanced testability
- Reduced complexity
- Better separation of concerns

## Risk Mitigation
- Comprehensive test coverage before starting
- Incremental changes with continuous validation
- Backup of current state
- Clear rollback plan
- Stakeholder communication

## Success Criteria
- All functionality preserved
- Code quality improved
- Tests all pass
- Performance maintained or improved
- Documentation updated

---
*Generated by Dynamic Context Primer v1.0*